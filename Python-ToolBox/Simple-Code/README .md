# 脑电信号处理代码工具箱

## 💕项目简介

⚒️⚒️这是一个用于处理和分析Xmuse Lab/PYLSL保存的脑电信号(EEG)数据工具集，提供了数据预处理、数据格式转换、时间戳转换、数据滤波、脑电功率谱密度分析等功能，主要帮助脑接口领域的科研人员更快上手便携式脑电波仪Xmuse并进行相关的数据处理的开发工作。

## 💕主要功能

### 01. 时间戳转换

- **支持把Xmuse Lab/PYLSL保存的数据进行时间戳的计算，将其时间戳timesstamp转换为北京时间。**

- 使用说明：

  （1）将下面的文件地址替换为你的脑电数据csv格式的地址

  ```python
  input_csv = "EEG_signal.csv"  # 替换为您的原始 CSV 文件路径
  ```

  （2）判断自己脑电数据是通过Xmuse Lab采集的，还是通过PYLSL采集的，并根据对应代码格式选择使用对应的代码。

  ```python
  "如果是通过PYLSL保存的数据格式，把下面注释的代码取消注释"
  #timestamp = timestamp / 1000000.0    # 将微秒转换为秒（除以1,000,000）
  "转换为北京时间（针对Xmuse Lab保存的数据格式）"
  beijing_time = datetime.datetime.utcfromtimestamp(timestamp) + datetime.timedelta(hours=8)
  ```

### 02. 数据转换

- **支持把Xmuse Lab保存的EDF格式的脑电数据转换为CSV格式的。**

- 使用说明：

  （1）将下面文件地址替换为你的脑电数据edf格式的地址

  ```
  edf_file = 'xmuselab_recording(45).edf'
  ```

  （2）将下面文件地址替换为你的脑电数据edf格式转换为CSV的地址

  ```
  csv_file = '1100.csv'
  ```

### 03. 数据预处理

- **支持把Xmuse Lab保存的脑电的CSV文件进行数据清洗（去除缺失值和含有0的行），并进行时间戳之间的差值。**

- 使用说明：

  （1）将下面的文件地址替换为你的脑电数据csv格式的地址

  ```python
  if __name__ == '__main__':
      #放入你脑电文件的地址
      analyze_eeg_data("xmuselab_recording(45).csv")
  ```

### 04. 数据滤波

- **支持对4通道脑电数据进行高通滤波、低通滤波、带通滤波、陷波滤波等一系列操作，并在时域上可视化对比滤波前后脑电数据。**

- 使用说明：

  （1）将下面文件的地址改成自己文件的地址，🔊**特别注意这里导入的数据格式是经过预处理的：只有时间戳和4通道的EEG数据。**

  ```
  if __name__ == '__main__':
      #这里导入的数据格式是经过预处理的，只有时间戳和4通道的EEG数据
      main(csv_filename='EEG_signal.csv')
  ```

### 05. 脑电功率谱密度计算

- 支持对脑电数据进行频段能量分析（五个频段的绝对功率和相对功率百分比计算）、频谱熵计算、Hjorth参数分析、频谱图可视化。

- 使用说明：

  （1）将下面的地址改成自己脑电数据的地址，🔊**特别注意这里导入的数据格式是经过预处理的：只有时间戳和4通道的EEG数据。**

  ```
  if __name__ == '__main__':
      "脑电数据的地址"
      data_path = "EEG_signal.csv"
  ```

  

## 💕环境要求

- Python 3.6+
- 依赖包：numpy、pandas、scipy、matplotlib、mne

## 💕注意事项

- 使用前请确保先阅读README文档并进行对应的库的安装。
- 使用前确保自己的数据格式与代码中的数据格式一致。
- 注意检查采样率设置是否正确，Xmuse便携式脑电波仪的采样率为256Hz。

## 💕联系方式

- 作者：【漂泊的小森-Gion】
- 邮箱：[huags@xmuse.cn]

---

🗨️🗨️***如有问题或建议，欢迎提交 Issue 或通过邮件联系。***